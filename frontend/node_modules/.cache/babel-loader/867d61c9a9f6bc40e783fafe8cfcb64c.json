{"remainingRequest":"D:\\LAP_TRINH\\NAM_3\\HK2\\DienToanDamMay\\UploadFileGGAPI\\frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\LAP_TRINH\\NAM_3\\HK2\\DienToanDamMay\\UploadFileGGAPI\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js!D:\\LAP_TRINH\\NAM_3\\HK2\\DienToanDamMay\\UploadFileGGAPI\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\LAP_TRINH\\NAM_3\\HK2\\DienToanDamMay\\UploadFileGGAPI\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\LAP_TRINH\\NAM_3\\HK2\\DienToanDamMay\\UploadFileGGAPI\\frontend\\src\\components\\AppHome.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\LAP_TRINH\\NAM_3\\HK2\\DienToanDamMay\\UploadFileGGAPI\\frontend\\src\\components\\AppHome.vue","mtime":1552161162952},{"path":"D:\\LAP_TRINH\\NAM_3\\HK2\\DienToanDamMay\\UploadFileGGAPI\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1551332831789},{"path":"D:\\LAP_TRINH\\NAM_3\\HK2\\DienToanDamMay\\UploadFileGGAPI\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1546849613259},{"path":"D:\\LAP_TRINH\\NAM_3\\HK2\\DienToanDamMay\\UploadFileGGAPI\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1552151796496},{"path":"D:\\LAP_TRINH\\NAM_3\\HK2\\DienToanDamMay\\UploadFileGGAPI\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1551332831789},{"path":"D:\\LAP_TRINH\\NAM_3\\HK2\\DienToanDamMay\\UploadFileGGAPI\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1552151795452}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from \"axios\";\nexport default {\n  head: {\n    title: \"Upload file\"\n  },\n  data: function data() {\n    return {\n      fileUpload: null,\n      linkFile: \"\",\n      isUploading: false,\n      isUploaded: false,\n      isUploadSuccess: false\n    };\n  },\n  methods: {\n    chooseFile: function chooseFile() {\n      console.log(this.$refs.inputUploadImage);\n      this.$refs.inputUploadImage.value = null;\n      this.$refs.inputUploadImage.click();\n    },\n    onFileChanged: function onFileChanged(event) {\n      if (event.target.files.length > 0) {\n        console.log(\"OnFileChange\", event.target.files);\n        this.fileUpload = event.target.files[0];\n      }\n    },\n    uploadFileToGoogleDrive: function uploadFileToGoogleDrive() {\n      this.isUploading = true;\n      var formData = new FormData();\n      var thisApp = this;\n      formData.append('upfile', this.fileUpload);\n      axios.post('http://localhost:3000/api/upload', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      }).then(function (response) {\n        console.log(\"Success\", response);\n        thisApp.linkFile = response.data.url;\n        thisApp.isUploadSuccess = false;\n\n        if (response.data) {\n          if (response.data.url) {\n            thisApp.isUploadSuccess = true;\n          }\n        }\n\n        thisApp.isUploading = false;\n        thisApp.isUploaded = true;\n      }).catch(function (error) {\n        console.log(\"Error\", error);\n        thisApp.isUploading = false;\n        thisApp.isUploaded = true;\n        thisApp.isUploadSuccess = false;\n      });\n      this.fileUpload = null;\n    }\n  },\n  mounted: function mounted() {},\n  computed: {\n    isEnableUpload: function isEnableUpload() {\n      return this.fileUpload != null;\n    }\n  }\n};",{"version":3,"sources":["AppHome.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA,OAAA,KAAA,MAAA,OAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA;AACA,IAAA,KAAA,EAAA;AADA,GADA;AAIA,EAAA,IAAA,EAAA;AAAA,WAAA;AACA,MAAA,UAAA,EAAA,IADA;AAEA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,WAAA,EAAA,KAHA;AAIA,MAAA,UAAA,EAAA,KAJA;AAKA,MAAA,eAAA,EAAA;AALA,KAAA;AAAA,GAJA;AAWA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,wBACA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,KAAA,CAAA,gBAAA;AACA,WAAA,KAAA,CAAA,gBAAA,CAAA,KAAA,GAAA,IAAA;AACA,WAAA,KAAA,CAAA,gBAAA,CAAA,KAAA;AACA,KALA;AAMA,IAAA,aANA,yBAMA,KANA,EAMA;AACA,UAAA,KAAA,CAAA,MAAA,CAAA,KAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,cAAA,EAAA,KAAA,CAAA,MAAA,CAAA,KAAA;AACA,aAAA,UAAA,GAAA,KAAA,CAAA,MAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA;AACA,KAXA;AAYA,IAAA,uBAZA,qCAYA;AACA,WAAA,WAAA,GAAA,IAAA;AAEA,UAAA,QAAA,GAAA,IAAA,QAAA,EAAA;AACA,UAAA,OAAA,GAAA,IAAA;AACA,MAAA,QAAA,CAAA,MAAA,CAAA,QAAA,EAAA,KAAA,UAAA;AACA,MAAA,KAAA,CAAA,IAAA,CAAA,kCAAA,EACA,QADA,EACA;AACA,QAAA,OAAA,EAAA;AACA,0BAAA;AADA;AADA,OADA,EAKA,IALA,CAKA,UAAA,QAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,SAAA,EAAA,QAAA;AACA,QAAA,OAAA,CAAA,QAAA,GAAA,QAAA,CAAA,IAAA,CAAA,GAAA;AACA,QAAA,OAAA,CAAA,eAAA,GAAA,KAAA;;AACA,YAAA,QAAA,CAAA,IAAA,EAAA;AACA,cAAA,QAAA,CAAA,IAAA,CAAA,GAAA,EAAA;AACA,YAAA,OAAA,CAAA,eAAA,GAAA,IAAA;AACA;AACA;;AACA,QAAA,OAAA,CAAA,WAAA,GAAA,KAAA;AACA,QAAA,OAAA,CAAA,UAAA,GAAA,IAAA;AACA,OAhBA,EAiBA,KAjBA,CAiBA,UAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,OAAA,EAAA,KAAA;AACA,QAAA,OAAA,CAAA,WAAA,GAAA,KAAA;AACA,QAAA,OAAA,CAAA,UAAA,GAAA,IAAA;AACA,QAAA,OAAA,CAAA,eAAA,GAAA,KAAA;AACA,OAtBA;AAuBA,WAAA,UAAA,GAAA,IAAA;AACA;AA1CA,GAXA;AAuDA,EAAA,OAvDA,qBAuDA,CAAA,CAvDA;AAwDA,EAAA,QAAA,EAAA;AACA,IAAA,cADA,4BACA;AACA,aAAA,KAAA,UAAA,IAAA,IAAA;AACA;AAHA;AAxDA,CAAA","sourcesContent":["<template>\n  <v-container grid-list-md text-xs-center fill-height>\n    <v-layout row wrap>\n      <v-flex xs12>\n        <v-card dark color=\"#FAFAFA\" class=\"black--text\" elevation=\"0\">\n          <v-card-text class=\"px-0 display-1\">Chọn file để upload lên google drive</v-card-text>\n        </v-card>\n      </v-flex>\n      <v-flex xs12 text-xs-center>\n        <v-card dark color=\"#FAFAFA\" class=\"black--text\" elevation=\"0\">\n          <v-card-text v-if=\"isEnableUpload\">File đã chọn: {{ fileUpload.name }} </v-card-text>\n        </v-card>\n\n          <v-btn @click=\"chooseFile\" color=\"teal\" class=\"white--text\">Chọn file\n            <v-icon right dark>folder</v-icon>\n          </v-btn>\n          <input type=\"file\" @change=\"onFileChanged\" ref=\"inputUploadImage\" id=\"imgupload\" style=\"display:none\" />\n          <v-btn @click=\"uploadFileToGoogleDrive\" class=\"info\" :disabled=\"!isEnableUpload\">Upload\n            <v-icon right dark>cloud_upload</v-icon>\n          </v-btn>\n      </v-flex>\n      <v-flex xs12>\n        <v-card dark color=\"#FAFAFA\" class=\"black--text\" elevation=\"0\">\n          <template v-if=\"isUploading\">\n            <v-card-text class=\"title\">\n              Đang tải lên...\n            </v-card-text>\n            <v-progress-circular :size=\"50\" color=\"primary\" indeterminate></v-progress-circular>\n          </template>\n          <template v-else-if=\"isUploaded\">\n            <v-card-text class=\"px-0\">\n              <v-alert v-if=\"isUploadSuccess\" :value=\"true\" color=\"success\" icon=\"check_circle\" outline class=\"title\">\n                Upload file thành công!\n                <a :href=\"linkFile\" target=\"_blank\">\n                  <v-btn color=\"success\">Mở file</v-btn>\n                </a>\n              </v-alert>\n              <v-alert v-else :value=\"true\" color=\"error\" icon=\"warning\" outline class=\"title\">\n                Đã có lỗi xảy ra, Upload file không thành công!!!\n              </v-alert>\n            </v-card-text>\n          </template>\n        </v-card>\n      </v-flex>\n    </v-layout>\n  </v-container>\n</template>\n\n<script>\n  import axios from \"axios\"\n  export default {\n    head: {\n      title: \"Upload file\"\n    },\n    data: () => ({\n      fileUpload: null,\n      linkFile: \"\",\n      isUploading: false,\n      isUploaded: false,\n      isUploadSuccess: false,\n    }),\n    methods: {\n      chooseFile() {\n        console.log(this.$refs.inputUploadImage)\n        this.$refs.inputUploadImage.value = null;\n        this.$refs.inputUploadImage.click();\n      },\n      onFileChanged(event) {\n        if (event.target.files.length > 0) {\n          console.log(\"OnFileChange\", event.target.files)\n          this.fileUpload = event.target.files[0];\n        }\n      },\n      uploadFileToGoogleDrive() {\n        this.isUploading = true;\n\n        let formData = new FormData();\n        const thisApp = this;\n        formData.append('upfile', this.fileUpload);\n        axios.post('http://localhost:3000/api/upload',\n            formData, {\n              headers: {\n                'Content-Type': 'multipart/form-data'\n              }\n            }).then((response) => {\n            console.log(\"Success\", response);\n            thisApp.linkFile = response.data.url;\n            thisApp.isUploadSuccess = false;\n            if (response.data) {\n              if (response.data.url) {\n                thisApp.isUploadSuccess = true;\n              }\n            }\n            thisApp.isUploading = false;\n            thisApp.isUploaded = true;\n          })\n          .catch((error) => {\n            console.log(\"Error\", error);\n            thisApp.isUploading = false;\n            thisApp.isUploaded = true;\n            thisApp.isUploadSuccess = false;\n          });\n        this.fileUpload = null;\n      },\n    },\n    mounted() {},\n    computed: {\n      isEnableUpload() {\n        return this.fileUpload != null;\n      }\n    }\n  }\n</script>\n\n<style>\n\n</style>"],"sourceRoot":"src/components"}]}