{"remainingRequest":"D:\\LAP_TRINH\\NAM_3\\HK2\\DienToanDamMay\\UploadFileGGAPI\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\LAP_TRINH\\NAM_3\\HK2\\DienToanDamMay\\UploadFileGGAPI\\frontend\\src\\components\\AppHome.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\LAP_TRINH\\NAM_3\\HK2\\DienToanDamMay\\UploadFileGGAPI\\frontend\\src\\components\\AppHome.vue","mtime":1552161162952},{"path":"D:\\LAP_TRINH\\NAM_3\\HK2\\DienToanDamMay\\UploadFileGGAPI\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1551332831789},{"path":"D:\\LAP_TRINH\\NAM_3\\HK2\\DienToanDamMay\\UploadFileGGAPI\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1546849613259},{"path":"D:\\LAP_TRINH\\NAM_3\\HK2\\DienToanDamMay\\UploadFileGGAPI\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1552151796496},{"path":"D:\\LAP_TRINH\\NAM_3\\HK2\\DienToanDamMay\\UploadFileGGAPI\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1551332831789},{"path":"D:\\LAP_TRINH\\NAM_3\\HK2\\DienToanDamMay\\UploadFileGGAPI\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1552151795452}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport axios from \"axios\"\nexport default {\n  head: {\n    title: \"Upload file\"\n  },\n  data: () => ({\n    fileUpload: null,\n    linkFile: \"\",\n    isUploading: false,\n    isUploaded: false,\n    isUploadSuccess: false,\n  }),\n  methods: {\n    chooseFile() {\n      console.log(this.$refs.inputUploadImage)\n      this.$refs.inputUploadImage.value = null;\n      this.$refs.inputUploadImage.click();\n    },\n    onFileChanged(event) {\n      if (event.target.files.length > 0) {\n        console.log(\"OnFileChange\", event.target.files)\n        this.fileUpload = event.target.files[0];\n      }\n    },\n    uploadFileToGoogleDrive() {\n      this.isUploading = true;\n\n      let formData = new FormData();\n      const thisApp = this;\n      formData.append('upfile', this.fileUpload);\n      axios.post('http://localhost:3000/api/upload',\n          formData, {\n            headers: {\n              'Content-Type': 'multipart/form-data'\n            }\n          }).then((response) => {\n          console.log(\"Success\", response);\n          thisApp.linkFile = response.data.url;\n          thisApp.isUploadSuccess = false;\n          if (response.data) {\n            if (response.data.url) {\n              thisApp.isUploadSuccess = true;\n            }\n          }\n          thisApp.isUploading = false;\n          thisApp.isUploaded = true;\n        })\n        .catch((error) => {\n          console.log(\"Error\", error);\n          thisApp.isUploading = false;\n          thisApp.isUploaded = true;\n          thisApp.isUploadSuccess = false;\n        });\n      this.fileUpload = null;\n    },\n  },\n  mounted() {},\n  computed: {\n    isEnableUpload() {\n      return this.fileUpload != null;\n    }\n  }\n}\n",{"version":3,"sources":["AppHome.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AppHome.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-container grid-list-md text-xs-center fill-height>\n    <v-layout row wrap>\n      <v-flex xs12>\n        <v-card dark color=\"#FAFAFA\" class=\"black--text\" elevation=\"0\">\n          <v-card-text class=\"px-0 display-1\">Chọn file để upload lên google drive</v-card-text>\n        </v-card>\n      </v-flex>\n      <v-flex xs12 text-xs-center>\n        <v-card dark color=\"#FAFAFA\" class=\"black--text\" elevation=\"0\">\n          <v-card-text v-if=\"isEnableUpload\">File đã chọn: {{ fileUpload.name }} </v-card-text>\n        </v-card>\n\n          <v-btn @click=\"chooseFile\" color=\"teal\" class=\"white--text\">Chọn file\n            <v-icon right dark>folder</v-icon>\n          </v-btn>\n          <input type=\"file\" @change=\"onFileChanged\" ref=\"inputUploadImage\" id=\"imgupload\" style=\"display:none\" />\n          <v-btn @click=\"uploadFileToGoogleDrive\" class=\"info\" :disabled=\"!isEnableUpload\">Upload\n            <v-icon right dark>cloud_upload</v-icon>\n          </v-btn>\n      </v-flex>\n      <v-flex xs12>\n        <v-card dark color=\"#FAFAFA\" class=\"black--text\" elevation=\"0\">\n          <template v-if=\"isUploading\">\n            <v-card-text class=\"title\">\n              Đang tải lên...\n            </v-card-text>\n            <v-progress-circular :size=\"50\" color=\"primary\" indeterminate></v-progress-circular>\n          </template>\n          <template v-else-if=\"isUploaded\">\n            <v-card-text class=\"px-0\">\n              <v-alert v-if=\"isUploadSuccess\" :value=\"true\" color=\"success\" icon=\"check_circle\" outline class=\"title\">\n                Upload file thành công!\n                <a :href=\"linkFile\" target=\"_blank\">\n                  <v-btn color=\"success\">Mở file</v-btn>\n                </a>\n              </v-alert>\n              <v-alert v-else :value=\"true\" color=\"error\" icon=\"warning\" outline class=\"title\">\n                Đã có lỗi xảy ra, Upload file không thành công!!!\n              </v-alert>\n            </v-card-text>\n          </template>\n        </v-card>\n      </v-flex>\n    </v-layout>\n  </v-container>\n</template>\n\n<script>\n  import axios from \"axios\"\n  export default {\n    head: {\n      title: \"Upload file\"\n    },\n    data: () => ({\n      fileUpload: null,\n      linkFile: \"\",\n      isUploading: false,\n      isUploaded: false,\n      isUploadSuccess: false,\n    }),\n    methods: {\n      chooseFile() {\n        console.log(this.$refs.inputUploadImage)\n        this.$refs.inputUploadImage.value = null;\n        this.$refs.inputUploadImage.click();\n      },\n      onFileChanged(event) {\n        if (event.target.files.length > 0) {\n          console.log(\"OnFileChange\", event.target.files)\n          this.fileUpload = event.target.files[0];\n        }\n      },\n      uploadFileToGoogleDrive() {\n        this.isUploading = true;\n\n        let formData = new FormData();\n        const thisApp = this;\n        formData.append('upfile', this.fileUpload);\n        axios.post('http://localhost:3000/api/upload',\n            formData, {\n              headers: {\n                'Content-Type': 'multipart/form-data'\n              }\n            }).then((response) => {\n            console.log(\"Success\", response);\n            thisApp.linkFile = response.data.url;\n            thisApp.isUploadSuccess = false;\n            if (response.data) {\n              if (response.data.url) {\n                thisApp.isUploadSuccess = true;\n              }\n            }\n            thisApp.isUploading = false;\n            thisApp.isUploaded = true;\n          })\n          .catch((error) => {\n            console.log(\"Error\", error);\n            thisApp.isUploading = false;\n            thisApp.isUploaded = true;\n            thisApp.isUploadSuccess = false;\n          });\n        this.fileUpload = null;\n      },\n    },\n    mounted() {},\n    computed: {\n      isEnableUpload() {\n        return this.fileUpload != null;\n      }\n    }\n  }\n</script>\n\n<style>\n\n</style>"]}]}